#!/bin/sh
`dirname $0`/baseFreeTTS2 -Xrunhprof:heap=dump,file=log.txt com.sun.speech.freetts.FreeTTS $@
egrep 'OBJ|ARR' log.txt  | sed 's/(//g' | sed 's/,//g' | sed ' s/=/ /g' | awk '
{ size += $4; totalObjects++ }
$1 == "OBJ" { objs++ }
$1 == "ARR" { arr++ }

END { print "Tot:", totalObjects, "Size:", size, "Obj:", objs, "Arr:", arr; }
'


